<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard | SmartMedicare</title>

  <!-- Materialize CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top right, #020617, #020617);
      color: #e5e7eb;
      overflow-x: hidden;
    }

    main {
      padding: 50px 0;
    }

    /* Animated background glow */
    body::before, body::after {
      content: "";
      position: fixed;
      width: 500px;
      height: 500px;
      border-radius: 50%;
      filter: blur(140px);
      opacity: 0.25;
      z-index: -1;
      animation: float 12s infinite alternate ease-in-out;
    }

    body::before {
      background: #22c55e;
      top: -100px;
      left: -100px;
    }

    body::after {
      background: #2563eb;
      bottom: -100px;
      right: -100px;
      animation-delay: 4s;
    }

    @keyframes float {
      from { transform: translateY(0px); }
      to { transform: translateY(80px); }
    }

    /* Glass cards */
    .dash-card {
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(14px);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 20px 50px rgba(0,0,0,0.4);
      transition: all 0.45s cubic-bezier(.4,0,.2,1);
      animation: fadeUp 0.7s ease forwards;
    }

    .dash-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 35px 80px rgba(0,0,0,0.6);
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h4 {
      font-weight: 700;
      color: #f8fafc;
    }

    .role-badge {
      display: inline-block;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
      margin-left: 10px;
    }

    .action-icon {
      font-size: 56px;
      margin-bottom: 12px;
      transition: transform 0.3s ease;
    }

    .dash-card.center-align:hover .action-icon {
      transform: scale(1.25) rotate(-5deg);
    }

    .btn {
      border-radius: 10px;
    }

    footer {
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(255,255,255,0.05);
      margin-top: 40px;
    }
  </style>
</head>

<body>


<main>
  <div class="container">

    <!-- Header -->
    <div class="row">
      <div class="col s12">
        <h4>
          SmartMedicare Control Panel
          <span class="role-badge"><%= user.role.toUpperCase() %></span>
        </h4>
        <p class="grey-text text-lighten-1">
          Unified access to your medical ecosystem
        </p>
      </div>
    </div>

    <!-- Main Actions -->
    <div class="row">

      <!-- Profile -->
      <div class="col s12 m4">
        <div class="card dash-card center-align">
          <div class="card-content">
            <i class="material-icons action-icon blue-text">account_circle</i>
            <h6>My Profile</h6>
            <p class="grey-text text-lighten-1">Account & security settings</p>
            <a class="btn blue">Open</a>
          </div>
        </div>
      </div>

      <!-- Patient Dashboard -->
      <div class="col s12 m4">
        <div class="card dash-card center-align">
          <div class="card-content">
            <i class="material-icons action-icon green-text">favorite</i>
            <h6>Health Dashboard</h6>
            <p class="grey-text text-lighten-1">Medical data & AI insights</p>

            <% if (user.role === 'patient') { %>
              <a href="/patient/<%= user.patient %>" class="btn green">Open</a>
            <% } else { %>
              <a href="/doctor/dashboard" class="btn green">Open</a>
            <% } %>

          </div>
        </div>
      </div>

      <!-- AI Assistant -->
      <div class="col s12 m4">
        <div class="card dash-card center-align">
          <div class="card-content">
            <i class="material-icons action-icon purple-text">smart_toy</i>
            <h6>AI Assistant</h6>
            <p class="grey-text text-lighten-1">Smart health recommendations</p>
            <a class="btn purple">Ask AI</a>
          </div>
        </div>
      </div>

    </div>

    <!-- AI Status Card -->
    <div class="row">
      <div class="col s12">
        <div class="card dash-card">
          <div class="card-content">
            <span class="card-title">ðŸ¤– AI System Status</span>
            <p>
              All medical analytics systems are running normally.
              Predictive health monitoring and medication tracking are active.
            </p>
            <p>
              System Confidence Score:
              <b class="green-text">94%</b>
            </p>
          </div>
        </div>
      </div>
    </div>

  </div>
</main>

<%- include('partials/footer') %>

<!-- Materialize JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".dash-card").forEach((card, i) => {
      card.style.animationDelay = (i * 0.12) + "s";
    });
  });
</script>

</body>
</html>
